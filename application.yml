spring:
  # 激活生产环境配置
  profiles:
    active: prod
  datasource:
    # Render PostgreSQL 驱动
    driver-class-name: org.postgresql.Driver
    # 替换为你的 Render PostgreSQL Internal URL
    url: postgresql://demotwodb_user:bNykyymioHi4CdcOr4trVTxscCdyrlnR@dpg-d4qi3togjchc73bcfr2g-a/demotwodb
    # Render PostgreSQL 无需手动配置用户名密码，URL 已包含
  jpa:
    hibernate:
      ddl-auto: update # 生产环境建议用 validate，避免自动建表
    show-sql: false
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect
        format_sql: false
    open-in-view: false
  # 关闭 H2 控制台（生产环境不需要）
  h2:
    console:
      enabled: false

# 服务端口：Render 会自动注入 PORT 环境变量，必须用这个端口
server:
  port: ${PORT:8080}
  servlet:
    context-path: /

# 日志配置（减少 Render 日志输出）
logging:
  level:
    org.hibernate: WARN
    com.example.demotwo: INFO
    org.springframework: WARN